<!-- 
Crear un programa HTML que funcione como una calculadora básica: suma, resta, multiplica y divide dos números. 
El programa ejecutará un script en JavaScript encargado de realizar las operaciones. Cada una de ellas será una función independiente. 

Desde HTML se creará un pequeño formulario para solicitar los datos de entrada por teclado y pasarlos a las funciones del script. 
También mostrará el resultado de las operaciones realizadas sobre los datos de entrada.
-->

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset=utf-8 " />
    <title>Actividad Semana 24 - Parte 3 - Javier MR - LMSGI - DAM1</title>
    <!-- CONJUNTO SCRIPTS -->
    <script>
      //TIPOS DE OPERACIONES
      function opSuma(n1, n2) {
        return +n1 + +n2;
      }
      function opResta(n1, n2) {
        return +n1 - +n2;
      }
      function opProducto(n1, n2) {
        return +n1 * +n2;
      }
      function opDivision(n1, n2) {
        return +n1 / +n2;
      }

      //SELECTOR DE OPERACION
      function selectorOperacion(valor) {
        var nume1 = document.calculadora.num1.value;
        var nume2 = document.calculadora.num2.value;
        var operacion;
        var signo;
        switch (valor) {
          case 1:
            operacion = opSuma;
            signo = "+";
            break;
          case 2:
            operacion = opResta;
            signo = "-";
            break;
          case 3:
            operacion = opProducto;
            signo = "*";
            break;
          case 4:
            operacion = opDivision;
            signo = "/";
            break;
        }
        var resultado = operacion(nume1, nume2);
        document.getElementById("resul").innerHTML =
          "El resultado de la operación (" + nume1 + signo + nume2+ ") da como resultado " +  resultado;
      }

      //VALIDAR CIFRAS
      function validarOperacion() {
        //validar que haya 2 números antes de operar
        if (
          document.calculadora.num1.value == "" ||
          document.calculadora.num2.value == ""
        ) {
          alert(
            "Debe introducir un valor en ambos números para poder realizar la operación."
          );
          return 0;
        }
        //validar que haya una operación escogida
        if (document.calculadora.operacion.selectedIndex == 0) {
          alert("Debe seleccionar un tipo de operación.");
          document.calculadora.operacion.focus();
          return 0;
        }
        //guardar tipo operacion
        var tipoOp = +document.calculadora.operacion.selectedIndex;

        selectorOperacion(tipoOp);
      }
    </script>
    <!-- CONJUNTO ESTILOS -->
    <style>
      div {
        padding: 5px;
      }
      div.cal {
        border-style: solid;
        background-color: grey;
        height: 50%;
        width: 30%;
        padding: 10px;
      }
      #resul {
        color: black;
        background-color: greenyellow;
        text-align: center;
      }
    </style>
  </head>

  <body>
    <h1>Calculadora HTML básica</h1>
    <div class="cal">
      <form name="calculadora">
        <!-- INPUT PRIMER NUMERO -->
        <div>
          <input
            id="num1"
            name="num1"
            type="number"
            required
            placeholder="Introduzca un número"
          />
        </div>
        <!-- SELECTOR OPERACION -->
        <div>
          <select name="operacion">
            <option value="default">Elegir operación</option>
            <option value="suma">SUMAR (+)</option>
            <option value="resta">RESTAR (-)</option>
            <option value="multi">MULTIPLICAR (x)</option>
            <option value="division">DIVIDIR (%)</option>
          </select>
        </div>
        <!-- INPUT SEGUNDO NUMERO -->
        <div>
          <input
            id="num2"
            name="num2"
            type="number"
            required
            placeholder="Introduzca un número"
          />
        </div>
        <!-- TRIGGER FUNCION CALCULAR -->
        <div>
          <input type="button" value="Calcular" onclick="validarOperacion()" />
        </div>
      </form>
      <!-- RESULTADO -->
      <p id="resul"></p>
    </div>
  </body>
</html>
